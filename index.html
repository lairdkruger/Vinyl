<html>
    <head>
        <meta charset="utf-8">
        <title>Vinyl Visualizer</title>
        
        <script src="src/canvas.js"></script>
        <script src="src/creative_coding.js"></script>
        <script src="src/mic.js"></script>
        
    </head>
    
    <body>
        
        <script>
            var _0x4dff=['angle','radius','lit\x20II','getRMS','fillStyle','fillEllipse','strokeStyle','line','lineWidth','spectrum','peak_volume','background','canvas1','requestFullscreen','webkitRequestFullscreen','mozRequestFullScreen','msRequestFullscreen','addEventListener','documentElement','keypress','keyCode','standard','lit','push','log','mapWaveform','cos'];(function(_0x208c99,_0x297704){var _0xfb741d=function(_0xe4153b){while(--_0xe4153b){_0x208c99['push'](_0x208c99['shift']());}};_0xfb741d(++_0x297704);}(_0x4dff,0x11a));var _0x5e05=function(_0x1af24d,_0x494afc){_0x1af24d=_0x1af24d-0x0;var _0x4f357f=_0x4dff[_0x1af24d];return _0x4f357f;};var ctx=createCanvas(_0x5e05('0x0'));function getreqfullscreen(){var _0x2436e4=document['documentElement'];return _0x2436e4[_0x5e05('0x1')]||_0x2436e4[_0x5e05('0x2')]||_0x2436e4[_0x5e05('0x3')]||_0x2436e4[_0x5e05('0x4')];}canvas[_0x5e05('0x5')]('dblclick',function(){var _0x3fe133=getreqfullscreen();_0x3fe133['call'](document[_0x5e05('0x6')]);});document[_0x5e05('0x5')](_0x5e05('0x7'),function(_0xd87aa1){if(_0xd87aa1[_0x5e05('0x8')]==0x31){mode=_0x5e05('0x9');line_color=rgb(0xff,0xff,0xff);}else if(_0xd87aa1[_0x5e05('0x8')]==0x32){mode=_0x5e05('0xa');}else if(_0xd87aa1[_0x5e05('0x8')]==0x33){mode='lit\x20II';}},![]);var mic=new Microphone(0x100);var symmetry_num=0x2;var particles=[];var num_particles=0x50;var num_rings=0x50;var max_radius=h/0x3;var gap=max_radius/num_rings;var waveform_array=[];var waveform_intensity=h/1.5;var explode=0x1;var hue=0x0;var line_color=rgb(0xff,0xff,0xff);var color_array=[];var mode=_0x5e05('0x9');for(i=0x0;i<num_rings;i++){particles[_0x5e05('0xb')]([]);color_array[_0x5e05('0xb')]([]);for(j=0x0;j<num_particles;j++){addParticle(i,j);}}function addParticle(_0x2ddc22,_0x572d70){var _0x3fa2d8=radians(distributeAngles(_0x572d70,num_particles))+1.62;var _0x3e6314={'x':0x0,'y':0x0,'angle':_0x3fa2d8,'radius':max_radius-gap*i};particles[i]['push'](_0x3e6314);}console[_0x5e05('0xc')](particles);function drawParticles(_0x481bb8){for(j=0x0;j<symmetry_num;j++){for(i=0x0;i<num_particles/symmetry_num;i++){particle_id=num_particles/symmetry_num*j;waveform=mic[_0x5e05('0xd')](i,num_particles/symmetry_num,0x1,waveform_intensity);waveform_array[i]=waveform;if(j%0x2==0x0){particle=particle_id+num_particles/symmetry_num-i-0x1;p=particles[0x0][particle];}else{p=particles[0x0][particle_id+i];}p['x']=w/0x2+Math[_0x5e05('0xe')](p[_0x5e05('0xf')])*(p[_0x5e05('0x10')]*waveform*_0x481bb8);p['y']=h/0x2+Math['sin'](p[_0x5e05('0xf')])*(p[_0x5e05('0x10')]*waveform*_0x481bb8);}}for(k=0x1;k<num_rings;k++){for(j=0x0;j<symmetry_num;j++){for(i=0x0;i<num_particles/symmetry_num;i++){particle_id=num_particles/symmetry_num*j;if(j%0x2==0x0){particle=particle_id+num_particles/symmetry_num-i-0x1;p=particles[k][particle];}else{p=particles[k][particle_id+i];}p['x']=w/0x2+Math[_0x5e05('0xe')](p[_0x5e05('0xf')])*(p[_0x5e05('0x10')]*waveform_array[i]*_0x481bb8);p['y']=h/0x2+Math['sin'](p[_0x5e05('0xf')])*(p[_0x5e05('0x10')]*waveform_array[i]*_0x481bb8);}}}}function drawConnections(){if(mode==_0x5e05('0x11')){volume=mic[_0x5e05('0x12')](mic['spectrum']);lightness=map(volume,0x0,0x64,0x28,0x46,!![]);add=map(volume,0x0,0x64,0x0,2.5)**0x3;flash=map(volume,0x0,0x64,0x0,0x1e,!![]);if(hue==0x168){hue=0x0;}else{hue+=add;}if(volume<peak_vol-0x14){color_array[num_rings]=hsl(hue,0x46,lightness);}else{color_array[num_rings]=hsl(hue,0x46+flash,lightness+flash);}for(k=0x0;k<num_rings;k++){color_array[k]=color_array[k+0x1];}}for(j=0x0;j<num_rings;j++){if(mode=='lit\x20II'){ctx[_0x5e05('0x13')]=color_array[j];ctx[_0x5e05('0x14')](w/0x2,h/0x2,0x2,0x2);ctx[_0x5e05('0x15')]=color_array[j];}for(i=0x0;i<num_particles-0x1;i++){p1=particles[j][i];p2=particles[j][i+0x1];ctx['line'](p1['x'],p1['y'],p2['x'],p2['y']);}p1=particles[j][0x0];p2=particles[j][num_particles-0x1];ctx[_0x5e05('0x16')](p1['x'],p1['y'],p2['x'],p2['y']);}}ctx[_0x5e05('0x17')]=1.5;function draw(){frameRate=0x78;volume=mic['getRMS'](mic[_0x5e05('0x18')]);peak_vol=mic[_0x5e05('0x19')];ctx[_0x5e05('0x1a')](0x0,map(volume,0x0,0x64,0.2,0.05));drawParticles(explode);drawConnections();if(mode==_0x5e05('0x9')){ctx[_0x5e05('0x15')]=line_color;ctx[_0x5e05('0x13')]=rgb(0xff);ctx[_0x5e05('0x14')](w/0x2,h/0x2,0x2,0x2);}else if(mode==_0x5e05('0xa')){ctx[_0x5e05('0x13')]=rgb(0xff);ctx[_0x5e05('0x14')](w/0x2,h/0x2,0x2,0x2);lightness=map(volume,0x0,0x64,0x28,0x46,!![]);add=map(volume,0x0,0x64,0x0,3.5)**0x3;if(volume>peak_vol-0x14){explode=0x2;hue=randomInt(0x0,0x168);}else{if(hue==0x168){hue=0x0;}else{hue+=add;}}ctx[_0x5e05('0x15')]=hsl(hue,0x46,lightness);}if(volume<peak_vol-0x14){symmetry_num=0x4;explode=0x1;}else if(volume>=peak_vol-0x14){symmetry_num=0x4;explode=0x1;}}
        </script>
    </body>
</html>