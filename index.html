<html>
    <head>
        <meta charset="utf-8">
        <title>Vinyl Visualizer</title>
        
        <script src="src/canvas.js"></script>
        <script src="src/creative_coding.js"></script>
        <script src="src/mic.js"></script>
        
    </head>
    
    <body>
        
        <script>
            var _0x147c=['standard','fillEllipse','canvas1','documentElement','requestFullscreen','webkitRequestFullscreen','mozRequestFullScreen','addEventListener','call','keyCode','lit','lit\x20II','push','log','cos','radius','angle','sin','getRMS','spectrum','fillStyle','strokeStyle','line','lineWidth','peak_volume','background'];(function(_0x531e41,_0x2521c2){var _0x4e0a04=function(_0x41c5ce){while(--_0x41c5ce){_0x531e41['push'](_0x531e41['shift']());}};_0x4e0a04(++_0x2521c2);}(_0x147c,0x1bc));var _0x820c=function(_0x6841cf,_0x13feaa){_0x6841cf=_0x6841cf-0x0;var _0x1d4ab8=_0x147c[_0x6841cf];return _0x1d4ab8;};var ctx=createCanvas(_0x820c('0x0'));function getreqfullscreen(){var _0xcae541=document[_0x820c('0x1')];return _0xcae541[_0x820c('0x2')]||_0xcae541[_0x820c('0x3')]||_0xcae541[_0x820c('0x4')]||_0xcae541['msRequestFullscreen'];}canvas[_0x820c('0x5')]('dblclick',function(){var _0x3b1103=getreqfullscreen();_0x3b1103[_0x820c('0x6')](document[_0x820c('0x1')]);});document[_0x820c('0x5')]('keypress',function(_0x5dffb4){if(_0x5dffb4[_0x820c('0x7')]==0x31){mode='standard';line_color=rgb(0xff,0xff,0xff);}else if(_0x5dffb4[_0x820c('0x7')]==0x32){mode=_0x820c('0x8');}else if(_0x5dffb4[_0x820c('0x7')]==0x33){mode='lit\x20II';}else if(_0x5dffb4['keyCode']==0x52){peak_vol=0x0;}},![]);var mic=new Microphone(0x100);var symmetry_num=0x2;var particles=[];var num_particles=0x50;var num_rings=0x50;var max_radius=h/0x3;var gap=max_radius/num_rings;var waveform_array=[];var waveform_intensity=h/1.5;var explode=0x1;var hue=0x0;var line_color=rgb(0xff,0xff,0xff);var color_array=[];var mode=_0x820c('0x9');for(i=0x0;i<num_rings;i++){particles['push']([]);color_array['push']([]);for(j=0x0;j<num_particles;j++){addParticle(i,j);}}function addParticle(_0x12c54f,_0x6fa52d){var _0x3ae318=radians(distributeAngles(_0x6fa52d,num_particles))+1.62;var _0x17e3b6={'x':0x0,'y':0x0,'angle':_0x3ae318,'radius':max_radius-gap*i};particles[i][_0x820c('0xa')](_0x17e3b6);}console[_0x820c('0xb')](particles);function drawParticles(_0x4c3cdb){for(j=0x0;j<symmetry_num;j++){for(i=0x0;i<num_particles/symmetry_num;i++){particle_id=num_particles/symmetry_num*j;waveform=mic['mapWaveform'](i,num_particles/symmetry_num,0x1,waveform_intensity);waveform_array[i]=waveform;if(j%0x2==0x0){particle=particle_id+num_particles/symmetry_num-i-0x1;p=particles[0x0][particle];}else{p=particles[0x0][particle_id+i];}p['x']=w/0x2+Math[_0x820c('0xc')](p['angle'])*(p['radius']*waveform*_0x4c3cdb);p['y']=h/0x2+Math['sin'](p['angle'])*(p[_0x820c('0xd')]*waveform*_0x4c3cdb);}}for(k=0x1;k<num_rings;k++){for(j=0x0;j<symmetry_num;j++){for(i=0x0;i<num_particles/symmetry_num;i++){particle_id=num_particles/symmetry_num*j;if(j%0x2==0x0){particle=particle_id+num_particles/symmetry_num-i-0x1;p=particles[k][particle];}else{p=particles[k][particle_id+i];}p['x']=w/0x2+Math[_0x820c('0xc')](p[_0x820c('0xe')])*(p['radius']*waveform_array[i]*_0x4c3cdb);p['y']=h/0x2+Math[_0x820c('0xf')](p[_0x820c('0xe')])*(p['radius']*waveform_array[i]*_0x4c3cdb);}}}}function drawConnections(){if(mode==_0x820c('0x9')){volume=mic[_0x820c('0x10')](mic[_0x820c('0x11')]);lightness=map(volume,0x0,0x64,0x28,0x46,!![]);add=map(volume,0x0,0x64,0x0,2.5)**0x3;flash=map(volume,0x0,0x64,0x0,0x1e,!![]);if(hue==0x168){hue=0x0;}else{hue+=add;}if(volume<peak_vol-0x14){color_array[num_rings]=hsl(hue,0x46,lightness);}else{color_array[num_rings]=hsl(hue,0x46+flash,lightness+flash);}for(k=0x0;k<num_rings;k++){color_array[k]=color_array[k+0x1];}}for(j=0x0;j<num_rings;j++){if(mode==_0x820c('0x9')){ctx[_0x820c('0x12')]=color_array[j];ctx['fillEllipse'](w/0x2,h/0x2,0x2,0x2);ctx[_0x820c('0x13')]=color_array[j];}for(i=0x0;i<num_particles-0x1;i++){p1=particles[j][i];p2=particles[j][i+0x1];ctx[_0x820c('0x14')](p1['x'],p1['y'],p2['x'],p2['y']);}p1=particles[j][0x0];p2=particles[j][num_particles-0x1];ctx['line'](p1['x'],p1['y'],p2['x'],p2['y']);}}ctx[_0x820c('0x15')]=1.5;function draw(){frameRate=0x78;volume=mic[_0x820c('0x10')](mic['spectrum']);peak_vol=mic[_0x820c('0x16')];ctx[_0x820c('0x17')](0x0,map(volume,0x0,0x64,0.2,0.05));drawParticles(explode);drawConnections();if(mode==_0x820c('0x18')){ctx[_0x820c('0x13')]=line_color;ctx[_0x820c('0x12')]=rgb(0xff);ctx[_0x820c('0x19')](w/0x2,h/0x2,0x2,0x2);}else if(mode=='lit'){ctx[_0x820c('0x12')]=rgb(0xff);ctx[_0x820c('0x19')](w/0x2,h/0x2,0x2,0x2);lightness=map(volume,0x0,0x64,0x28,0x46,!![]);add=map(volume,0x0,0x64,0x0,3.5)**0x3;if(volume>peak_vol-0x14){explode=0x2;hue=randomInt(0x0,0x168);}else{if(hue==0x168){hue=0x0;}else{hue+=add;}}ctx[_0x820c('0x13')]=hsl(hue,0x46,lightness);}if(volume<peak_vol-0x14){symmetry_num=0x4;explode=0x1;}else if(volume>=peak_vol-0x14){symmetry_num=0x4;explode=0x1;}}
        </script>
    </body>
</html>